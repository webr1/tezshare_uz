{% extends "base.html" %}
{% load static %}
{% block title %}Parolni kiriting - tezshare{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/password.css' %}" />
{% endblock %}

{% block content %}

<div class="password-container">
    
    <!-- Header Section -->
    <div class="password-header" data-animate>
        <div class="header-icon">
            <i class="fas fa-lock"></i>
            <div class="icon-glow"></div>
        </div>
        <h1 class="password-title">Parol bilan himoyalangan</h1>
        <p class="password-subtitle">Fayllarga kirish uchun parolni kiriting</p>
    </div>

    <!-- Password Card -->
    <div class="password-card" data-animate data-animate-delay="100">
        
        <!-- Info Badge -->
        <div class="info-badge">
            <i class="fas fa-shield-alt"></i>
            <span>Yuboruvchi qo'shimcha xavfsizlik uchun fayllarni parol bilan himoyalagan</span>
        </div>

        <!-- Error Message -->
        {% if error %}
        <div class="error-message" data-animate data-animate-delay="200">
            <div class="error-icon">
                <i class="fas fa-exclamation-circle"></i>
            </div>
            <div class="error-content">
                <div class="error-text">{{ error }}</div>
            </div>
        </div>
        {% endif %}

        <!-- Password Form -->
        <form method="post" class="password-form" id="passwordForm">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="password" class="form-label">
                    <i class="fas fa-key"></i>
                    <span>Parol</span>
                </label>
                
                <div class="password-input-wrapper">
                    <input
                        type="password"
                        id="password"
                        name="password"
                        class="password-input"
                        placeholder="Parolni kiriting"
                        required
                        autofocus
                        autocomplete="off"
                    />
                    <button
                        type="button"
                        class="toggle-password"
                        onclick="togglePasswordVisibility()"
                        tabindex="-1"
                    >
                        <i class="fas fa-eye" id="eyeIcon"></i>
                    </button>
                    <div class="input-border"></div>
                </div>
            </div>

            <button type="submit" class="submit-button" id="submitBtn">
                <i class="fas fa-unlock"></i>
                <span>Qulfni ochish</span>
                <div class="button-shine"></div>
            </button>
        </form>

        <!-- Security Info -->
        <div class="security-note">
            <i class="fas fa-info-circle"></i>
            <span>Parolni faqat fayllarni yuboruvchi biladi</span>
        </div>

    </div>

    <!-- Additional Info -->
    <div class="additional-info" data-animate data-animate-delay="300">
        <div class="info-item">
            <div class="info-icon">
                <i class="fas fa-shield-alt"></i>
            </div>
            <div class="info-text">
                <div class="info-title">Xavfsiz ulanish</div>
                <div class="info-description">Barcha ma'lumotlar himoyalangan kanal orqali uzatiladi</div>
            </div>
        </div>

        <div class="info-item">
            <div class="info-icon">
                <i class="fas fa-clock"></i>
            </div>
            <div class="info-text">
                <div class="info-title">Cheklangan vaqt</div>
                <div class="info-description">Fayllar {{ batch.expires_at|date:"d.m.Y H:i" }} gacha mavjud</div>
            </div>
        </div>

        <div class="info-item">
            <div class="info-icon">
                <i class="fas fa-user-shield"></i>
            </div>
            <div class="info-text">
                <div class="info-title">Bruteforce himoyasi</div>
                <div class="info-description">Maksimal 5 ta parol kiritish urinishi</div>
            </div>
        </div>
    </div>

    <!-- Help Section -->
    <div class="help-section" data-animate data-animate-delay="400">
        <h3 class="help-title">Parolni bilmaysizmi?</h3>
        <p class="help-text">
            Siz bilan havolani bo'lishgan odamga murojaat qiling. 
            Faqat yuboruvchi fayllarga kirish parolini biladi.
        </p>
    </div>

</div>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/password.js' %}"></script>
{% endblock %}